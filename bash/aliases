# Generic
alias reload="source ~/.bashrc"

function take {
  mkdir $1
  cd $1
}

function c {
  cd ~/code/$1
}

function m {
  cd ~/code/$1
  mate .
}

function h {
  cd ~/$1
}

function cd() { builtin cd "$@" && ls -lhG; }

alias ..='cd ..'

alias tu='top -o cpu'   # cpu
alias tm='top -o vsize' #memory

function pless {
  pygmentize $1 | less -r
}

alias git="git-achievements"

# Git
function gg() {
  git commit -v -a -m "$*"
}

function ga() {
  git add $*
}

alias gs="git status"
alias gp="git push"
alias gl="git pull"

# Bundle
alias bi='bundle install'
alias be='bundle exec'

# Rails

function railsapp {
  template=$1
  appname=$2
  shift 2
  rails $appname -m http://github.com/olkarls/rails-templates/raw/master/$template.rb -d mysql $@
}

function railsapp_db {
  template=$1
  appname=$2
  shift 2
  rails $appname -m http://github.com/olkarls/rails-templates/raw/master/$template.rb $@
}

function ss {
  if [ -e script/rails ]; then
    script/rails server $@
  else
    script/server $@
  fi
}

alias rs='ss'

function ssd {
  if [ -e script/rails ]; then
    script/rails server  --debugger $@
  else
    script/server $@
  fi
}

alias rsd='ssd'

function sc {
  if [ -e script/rails ]; then
    script/rails console $@
  else
    script/console $@
  fi
}

alias rc='rsd'

function sg {
  if [ -e script/rails ]; then
    script/rails generate $@
  else
    script/generate $@
  fi
}

alias rg='sg'

function sp {
  if [ -e script/rails ]; then
    script/rails plugin $@
  else
    script/plugin $@
  fi
}

alias rp='sg'
alias rmig='rake db:migrate'

alias rmail='cat /var/mail/olkarls'

function copy_remote() {
  cat $1 | ssh $2 "cat >> $3"
}

# frank
alias fo='frankout --production ~/Sites/frank'


# RSpec
alias rspec='rspec --color --format documentation'

t() {
  tail -f -n5000 $1 | perl -pe "s/$2/\e[1;31;43m$&\e[0m/g"
}

rif() {
  cat $1 | sed "s/$2/$3/g" > "$1-replaced"
}
